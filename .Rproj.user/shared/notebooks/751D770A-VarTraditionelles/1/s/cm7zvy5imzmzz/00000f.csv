"0","#| echo: false"
"0","#| message: FALSE"
"0","#| warning: FALSE"
"0","#| code-fold: true"
"0","#| label: tbl-Pscore_base"
"0","#| tbl-cap: Prediction scores for the base model"
"0",""
"0","## Model on each fold"
"0","Result_  <- data.frame()"
"0","Result2_  <- data.frame()"
"0","for(i in 1:nb.fold) {"
"0","    learn <- train2[train2$fold != i,]"
"0","    valid <- train2[train2$fold == i,]"
"0",""
"0","    mean <- sum(learn$NB_Claim)/sum(learn$expo) "
"0","    learn$pred.base <- mean*learn$expo"
"0","    valid$pred.base <- mean*valid$expo"
"0",""
"0","    Result_ <- rbind(Result_, c(i, Score.pred(valid$pred.base, valid$NB_Claim)/nrow(valid)))"
"0","    Result2_ <- rbind(Result2_, c(i, Score.pred(valid$pred.base, valid$NB_Claim)))"
"0","}"
"0",""
"0","## Show results"
"0","colnames(Result_) <- c('Fold', ""Sc.log"", ""Sc.MSE"", ""Sc.quad"", ""Sc.sph"", ""Sc.DSS"", ""Sc.CRPS"")"
"0","colnames(Result2_) <- c('Fold', ""Sc.log"", ""Sc.MSE"", ""Sc.quad"", ""Sc.sph"", ""Sc.DSS"", ""Sc.CRPS"")"
"0","tot <- colSums(Result2_)/nrow(train2)"
"0","tot$Fold <- 'Total'"
"0","Result_ <- rbind(Result_ , tot)"
"0",""
"0","Result.base <- Result_  "
"0","Base <- Result.base[nb.fold+1,]"
"0",""
"0","knitr::kable(Result_, align = ""ccccccc"", digits = c(0, 5, 5, 5, 5, 5, 5), format.args = list(big.mark = "",""))%>%   "
"0","  kable_styling(bootstrap_options = ""striped"", full_width = T)  "
